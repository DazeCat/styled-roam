parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"dZYI":[function(require,module,exports) {
var define;
var t;!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof t&&t.amd?t(n):e.dayjs=n()}(this,function(){"use strict";var t="millisecond",e="second",n="minute",r="hour",i="day",s="week",u="month",a="quarter",o="year",h="date",f=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[^0-9]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?.?(\d+)?$/,c=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,d={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},$=function(t,e,n){var r=String(t);return!r||r.length>=e?t:""+Array(e+1-r.length).join(n)+t},l={s:$,z:function(t){var e=-t.utcOffset(),n=Math.abs(e),r=Math.floor(n/60),i=n%60;return(e<=0?"+":"-")+$(r,2,"0")+":"+$(i,2,"0")},m:function t(e,n){if(e.date()<n.date())return-t(n,e);var r=12*(n.year()-e.year())+(n.month()-e.month()),i=e.clone().add(r,u),s=n-i<0,a=e.clone().add(r+(s?-1:1),u);return+(-(r+(n-i)/(s?i-a:a-i))||0)},a:function(t){return t<0?Math.ceil(t)||0:Math.floor(t)},p:function(f){return{M:u,y:o,w:s,d:i,D:h,h:r,m:n,s:e,ms:t,Q:a}[f]||String(f||"").toLowerCase().replace(/s$/,"")},u:function(t){return void 0===t}},y="en",M={};M[y]=d;var m=function(t){return t instanceof S},v=function(t,e,n){var r;if(!t)return y;if("string"==typeof t)M[t]&&(r=t),e&&(M[t]=e,r=t);else{var i=t.name;M[i]=t,r=i}return!n&&r&&(y=r),r||!n&&y},D=function(t,e){if(m(t))return t.clone();var n="object"==typeof e?e:{};return n.date=t,n.args=arguments,new S(n)},g=l;g.l=v,g.i=m,g.w=function(t,e){return D(t,{locale:e.$L,utc:e.$u,x:e.$x,$offset:e.$offset})};var S=function(){function d(t){this.$L=v(t.locale,null,!0),this.parse(t)}var $=d.prototype;return $.parse=function(t){this.$d=function(t){var e=t.date,n=t.utc;if(null===e)return new Date(NaN);if(g.u(e))return new Date;if(e instanceof Date)return new Date(e);if("string"==typeof e&&!/Z$/i.test(e)){var r=e.match(f);if(r){var i=r[2]-1||0,s=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,s)}}return new Date(e)}(t),this.$x=t.x||{},this.init()},$.init=function(){var t=this.$d;this.$y=t.getFullYear(),this.$M=t.getMonth(),this.$D=t.getDate(),this.$W=t.getDay(),this.$H=t.getHours(),this.$m=t.getMinutes(),this.$s=t.getSeconds(),this.$ms=t.getMilliseconds()},$.$utils=function(){return g},$.isValid=function(){return!("Invalid Date"===this.$d.toString())},$.isSame=function(t,e){var n=D(t);return this.startOf(e)<=n&&n<=this.endOf(e)},$.isAfter=function(t,e){return D(t)<this.startOf(e)},$.isBefore=function(t,e){return this.endOf(e)<D(t)},$.$g=function(t,e,n){return g.u(t)?this[e]:this.set(n,t)},$.unix=function(){return Math.floor(this.valueOf()/1e3)},$.valueOf=function(){return this.$d.getTime()},$.startOf=function(t,a){var f=this,c=!!g.u(a)||a,d=g.p(t),$=function(t,e){var n=g.w(f.$u?Date.UTC(f.$y,e,t):new Date(f.$y,e,t),f);return c?n:n.endOf(i)},l=function(t,e){return g.w(f.toDate()[t].apply(f.toDate("s"),(c?[0,0,0,0]:[23,59,59,999]).slice(e)),f)},y=this.$W,M=this.$M,m=this.$D,v="set"+(this.$u?"UTC":"");switch(d){case o:return c?$(1,0):$(31,11);case u:return c?$(1,M):$(0,M+1);case s:var D=this.$locale().weekStart||0,S=(y<D?y+7:y)-D;return $(c?m-S:m+(6-S),M);case i:case h:return l(v+"Hours",0);case r:return l(v+"Minutes",1);case n:return l(v+"Seconds",2);case e:return l(v+"Milliseconds",3);default:return this.clone()}},$.endOf=function(t){return this.startOf(t,!1)},$.$set=function(s,a){var f,c=g.p(s),d="set"+(this.$u?"UTC":""),$=(f={},f[i]=d+"Date",f[h]=d+"Date",f[u]=d+"Month",f[o]=d+"FullYear",f[r]=d+"Hours",f[n]=d+"Minutes",f[e]=d+"Seconds",f[t]=d+"Milliseconds",f)[c],l=c===i?this.$D+(a-this.$W):a;if(c===u||c===o){var y=this.clone().set(h,1);y.$d[$](l),y.init(),this.$d=y.set(h,Math.min(this.$D,y.daysInMonth())).$d}else $&&this.$d[$](l);return this.init(),this},$.set=function(t,e){return this.clone().$set(t,e)},$.get=function(t){return this[g.p(t)]()},$.add=function(t,a){var h,f=this;t=Number(t);var c=g.p(a),d=function(e){var n=D(f);return g.w(n.date(n.date()+Math.round(e*t)),f)};if(c===u)return this.set(u,this.$M+t);if(c===o)return this.set(o,this.$y+t);if(c===i)return d(1);if(c===s)return d(7);var $=(h={},h[n]=6e4,h[r]=36e5,h[e]=1e3,h)[c]||1,l=this.$d.getTime()+t*$;return g.w(l,this)},$.subtract=function(t,e){return this.add(-1*t,e)},$.format=function(t){var e=this;if(!this.isValid())return"Invalid Date";var n=t||"YYYY-MM-DDTHH:mm:ssZ",r=g.z(this),i=this.$locale(),s=this.$H,u=this.$m,a=this.$M,o=i.weekdays,h=i.months,f=function(t,r,i,s){return t&&(t[r]||t(e,n))||i[r].substr(0,s)},d=function(t){return g.s(s%12||12,t,"0")},$=i.meridiem||function(t,e,n){var r=t<12?"AM":"PM";return n?r.toLowerCase():r},l={YY:String(this.$y).slice(-2),YYYY:this.$y,M:a+1,MM:g.s(a+1,2,"0"),MMM:f(i.monthsShort,a,h,3),MMMM:f(h,a),D:this.$D,DD:g.s(this.$D,2,"0"),d:String(this.$W),dd:f(i.weekdaysMin,this.$W,o,2),ddd:f(i.weekdaysShort,this.$W,o,3),dddd:o[this.$W],H:String(s),HH:g.s(s,2,"0"),h:d(1),hh:d(2),a:$(s,u,!0),A:$(s,u,!1),m:String(u),mm:g.s(u,2,"0"),s:String(this.$s),ss:g.s(this.$s,2,"0"),SSS:g.s(this.$ms,3,"0"),Z:r};return n.replace(c,function(t,e){return e||l[t]||r.replace(":","")})},$.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},$.diff=function(t,h,f){var c,d=g.p(h),$=D(t),l=6e4*($.utcOffset()-this.utcOffset()),y=this-$,M=g.m(this,$);return M=(c={},c[o]=M/12,c[u]=M,c[a]=M/3,c[s]=(y-l)/6048e5,c[i]=(y-l)/864e5,c[r]=y/36e5,c[n]=y/6e4,c[e]=y/1e3,c)[d]||y,f?M:g.a(M)},$.daysInMonth=function(){return this.endOf(u).$D},$.$locale=function(){return M[this.$L]},$.locale=function(t,e){if(!t)return this.$L;var n=this.clone(),r=v(t,e,!0);return r&&(n.$L=r),n},$.clone=function(){return g.w(this.$d,this)},$.toDate=function(){return new Date(this.valueOf())},$.toJSON=function(){return this.isValid()?this.toISOString():null},$.toISOString=function(){return this.$d.toISOString()},$.toString=function(){return this.$d.toUTCString()},d}(),p=S.prototype;return D.prototype=p,[["$ms",t],["$s",e],["$m",n],["$H",r],["$W",i],["$M",u],["$y",o],["$D",h]].forEach(function(t){p[t[1]]=function(e){return this.$g(e,t[0],t[1])}}),D.extend=function(t,e){return t.$i||(t(e,S,D),t.$i=!0),D},D.locale=v,D.isDayjs=m,D.unix=function(t){return D(1e3*t)},D.en=M[y],D.Ls=M,D.p={},D});
},{}],"X43S":[function(require,module,exports) {

},{}],"XdYG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=h;var t=e(require("dayjs"));function e(t){return t&&t.__esModule?t:{default:t}}require("./css/card.less"),require("./css/gingko.less");var o=localStorage.getItem("INIT_MODE")||"document";document.querySelector("html").classList=o;var n={cardList:{text:"Card List",icon:"bp3-icon-full-stacked-chart"},cardFlow:{text:"Card Flow",icon:"bp3-icon-heat-grid"},document:{text:"Document",icon:"bp3-icon-horizontal-bar-chart"}};function a(){var t=document.createElement("div");return t.setAttribute("style","flex: 0 0 3px"),t}function l(t,e){var o=n[t],l=document.createElement("div");l.id="mode-button-".concat(t),l.className="bp3-button bp3-minimal bp3-small ".concat(o.icon," mode-button"),l.setAttribute("style","position:relative;left:2px"),l.onclick=e,document.querySelector(".roam-topbar .flex-h-box").appendChild(l);var c=a();document.querySelector(".roam-topbar .flex-h-box").appendChild(c)}var c=function(t,e){var o=n[t],a=document.querySelector(".roam-topbar > .flex-h-box"),l=a.firstChild.classList.contains("bp3-icon-menu")?a.childNodes[1]:a.firstChild;l.style.display="flex",l.style.justifyContent="center";var c=document.createElement("button");c.name=o.text,c.className="mode-button bp3-button bp3-minimal bp3-small ".concat(o.icon," ").concat(t),c.onclick=e,l.appendChild(c)};function i(t){document.querySelector("html").classList=t,localStorage.setItem("INIT_MODE",t)}var r=function(){i("card-mode"),document.querySelector(".zoom-path-view.rm-zoom").firstChild.click()},d=function(){i("edit-mode");var t=document.querySelector('textarea[autocapitalize="none"]');t?t.parentNode.parentNode.parentNode.querySelector(".simple-bullet-inner").click():document.querySelector(".block-highlight-blue").querySelector(".simple-bullet-inner").click()},s=function(){i("flow-mode")},u=function(){i("document-mode")};function m(t){var e=document.createElement("style");return e.innerHTML=t,e}function p(){if(document.querySelector(".roam-article .rm-title-display").textContent.includes(", 2020")){var e,o=(0,t.default)().format("YYYY-MM-DD");console.log("currentDay",o),document.querySelectorAll(".roam-article .rm-level-0 > div.roam-block-container").forEach(function(n){var a=n.textContent.substring(0,5);if(new RegExp(/^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$/).test(a)){if(console.log("timestamp",a),n.setAttribute("data-timestamp",a),e){var l=(0,t.default)("".concat(o," ").concat(a)).diff((0,t.default)("".concat(o," ").concat(e)),"minute");console.log("duration",l),n.style.paddingTop=l+"px",n.style.background="linear-gradient(130deg,#ff7a18,#af002d 41.07%,#319197 76.05%)"}e=a}}),setInterval(function(){var e=(0,t.default)().format("hh:mm A");console.log("currentTimestamp",e)},6e4);var n=m(".roam-article .rm-level-0 > .roam-block-container:before {\n    content: attr(data-timestamp);\n    height: 1px;\n    position: relative;\n    right: 50px;\n    top: 5px\n  }\n  .rm-block-main.rm-block__self, .rm-block__children {\n    background: white;\n  }\n");document.head.appendChild(n)}}function f(){var t=document.querySelector(".roam-topbar .flex-h-box"),e=m("\n\t.roam-block-container div[id]{\n  \t\topacity: 0.2;\n    }\n\t.roam-block-container div[id]:hover{\n \t \topacity: 1;\n\t}\n  .roam-toolkit-block-mode--highlight {\n    opacity: 1 !important;\n  }\n"),o=document.createElement("div");function n(){[].find.call(o.classList,function(t){return"bp3-icon-eye-on"===t})?(o.className="bp3-button bp3-minimal bp3-icon-eye-open bp3-small",document.head.removeChild(e)):(o.className="bp3-button bp3-minimal bp3-icon-eye-on bp3-small",document.head.appendChild(e))}return o.id="mode-toggle-focus",o.className="bp3-button bp3-minimal bp3-icon-eye-open bp3-small",t.appendChild(o),o.addEventListener("click",n),n}l("cardList",r),l("cardFlow",s),l("document",u);var b=f();function h(){hotkeys("alt+shift+1",function(t,e){t.preventDefault(),r()}),hotkeys("alt+shift+2",function(t,e){t.preventDefault(),s()}),hotkeys("alt+shift+3",function(t,e){t.preventDefault(),u()}),hotkeys("alt+shift+4",function(t,e){t.preventDefault(),b()}),tippy("#mode-button-cardList",{content:'Card List<sup>mode</sup> <span style="font-size:7pt">(Alt-Shift-1)</span>',allowHTML:!0,theme:"light-border"}),tippy("#mode-button-cardFlow",{content:'Card Flow<sup>mode</sup> <span style="font-size:7pt">(Alt-Shift-2)</span>',allowHTML:!0,theme:"light-border"}),tippy("#mode-button-document",{content:'Outliner<sup>mode</sup> <span style="font-size:7pt">(Alt-Shift-3)</span>',allowHTML:!0,theme:"light-border"}),tippy("#mode-toggle-focus",{content:'Focus<sup>mode</sup> <span style="font-size:7pt">(Alt-Shift-4)</span>',allowHTML:!0,theme:"light-border"}),p(),console.log("started styled-roam")}
},{"dayjs":"dZYI","./css/card.less":"X43S","./css/gingko.less":"X43S"}],"Focm":[function(require,module,exports) {
"use strict";var t=e(require("./switch"));function e(t){return t&&t.__esModule?t:{default:t}}function o(t,e){s(Object.assign(document.createElement("script"),{src:e}),t,"text/javascript")}function s(t,e,o){try{document.getElementById(e).remove()}catch(s){}Object.assign(t,{type:o,async:!1,tagId:e}),document.getElementsByTagName("head")[0].appendChild(t)}o("HOTKEYJS","https://unpkg.com/hotkeys-js/dist/hotkeys.min.js"),o("tippyjs","https://unpkg.com/tippy.js@6"),setTimeout(t.default,3e3),module.hot&&(module.hot.dispose(function(){console.log("模块即将被替换时")}),module.hot.accept(function(){console.log("模块或其依赖项之一刚刚更新时")}));
},{"./switch":"XdYG"}]},{},["Focm"], null)
//# sourceMappingURL=/index.js.map